!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var a in n)("object"==typeof exports?exports:t)[a]=n[a]}}(self,(function(){return function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tableElement=e,this.apiUrl=n,this.dataTableOptions=this.createDataTableOptions(),this.dataTable=new KTDataTable(e,this.dataTableOptions),this.filterMap=this.createFilterMap()}return n=t,a=[{key:"createDataTableOptions",value:function(){return{apiEndpoint:this.apiUrl,pageSize:10,columns:{select:{render:function(t,e,n){var a=document.createElement("input");return a.className="kt-checkbox kt-checkbox-sm",a.type="checkbox",a.value=e.id.toString(),a.setAttribute("data-kt-datatable-row-check","true"),a.outerHTML.trim()}},user:{title:"Person",render:function(e){var n=t.isLocalhost()?"metronic-tailwind-html":"metronic/tailwind";return'\n              <div class="flex items-center gap-2.5">\n                <div class="shrink-0">\n                  <img class="h-9 rounded-full" src="/static/'.concat(n,"/dist/assets/media/avatars/").concat(e.avatar,'">\n                </div>\n                <a class="leading-none font-semibold text-mono hover:text-primary" href="#">\n                  ').concat(e.name,"\n                </a>\n              </div>\n            ")}},browser:{title:"Browser",render:function(t){return'\n              <div class="flex items-center gap-2">\n                <i class="ki-outline ki-chrome text-muted-foreground text-lg"></i>\n                <span class="text-gray-700">'.concat(t.name,"</span>\n              </div>\n            ")}},ipAddress:{title:"IP Address"},location:{title:"Location",render:function(e){var n=t.isLocalhost()?"metronic-tailwind-html":"metronic/tailwind";return'\n              <div class="flex items-center gap-1.5">\n                <img alt="flag" class="h-4 rounded-full" src="/static/'.concat(n,"/dist/assets/media/flags/").concat(e.flag,'">\n                <span class="leading-none text-muted-foreground">').concat(e.name,"</span>\n              </div>\n            ")}},action:{title:"",render:function(t){return'\n              <button class="kt-btn kt-btn-icon kt-btn-ghost kt-btn-sm">\n                <i class="ki-outline ki-dots-vertical"></i>\n              </button>\n            '},createdCell:function(t,e,n){t.querySelector(".kt-btn").addEventListener("click",(function(){alert("Clicked on action button for row ".concat(n.user.name))}))}}}}}},{key:"createFilterMap",value:function(){var t=document.querySelectorAll("select[data-datatable-filter-column]");return new Map(Array.from(t).map((function(t){return[t.getAttribute("data-datatable-filter-column"),t]})))}},{key:"initializeFilters",value:function(){var t=this;this.dataTable.getState().filters.forEach((function(e){var n=e.column,a=e.value;if(t.filterMap.has(n)){var r=t.filterMap.get(n);null!==r&&(r.value=a||"")}})),this.filterMap.forEach((function(e,n){e.addEventListener("change",(function(){t.dataTable.setFilter({column:n,type:"text",value:e.value||""}).redraw()}))}))}},{key:"debounce",value:function(t,e){var n;return function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];var o=this;clearTimeout(n),n=setTimeout((function(){return t.apply(o,r)}),e)}}},{key:"initSearch",value:function(){var t=this,e=document.querySelector('[data-datatable-search="true"]');if(this.dataTable&&e){var n=this.debounce((function(){t.dataTable.search(e.value)}),300);e.addEventListener("keyup",n)}}}],r=[{key:"isLocalhost",value:function(){return/^(localhost|127.0.0.1)$/.test(window.location.hostname)}},{key:"createInstance",value:function(){var e=t.isLocalhost()?"http://127.0.0.1:8001/metronic-tailwind-html/demo1/account/security/current-sessions/_data.html":"https://keenthemes.com/metronic/tailwind/demo1/account/security/current-sessions/_data.html",n=new t(document.querySelector("#current_sessions_table"),e);n.initializeFilters(),n.initSearch()}}],a&&e(n.prototype,a),r&&e(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,r}();return KTDom.ready((function(){a.createInstance()})),{}}()}));